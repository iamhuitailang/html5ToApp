{"name":"Html5toapp","tagline":"如何将HTML5 web应用变成android应用","body":"# 我是灰太狼\r\n## 如何将HTML5 web应用变成Android应用\r\n\r\n一、Android SDK中的WebView\r\n\r\n1.在要Activity中实例化WebView组件：WebView webView = new WebView(this);\r\n\r\n2.调用WebView的loadUrl()方法，设置WevView要显示的网页：\r\n\r\n互联网用：webView.loadUrl(\"https://www.google.hr/\");\r\n\r\n本地文件用：webView.loadUrl(file:///android_asset/XX.html); 本地文件存放在：assets 文件中\r\n\r\n3.调用Activity的setContentView()方法来显示网页视图\r\n\r\n4.用WebView点链接看了很多页以后为了让WebView支持回退功能，需要覆盖覆盖Activity类的onKeyDown()方法，如果不做任何处理，点击系统回退剪键，整个浏览器会调用finish()而结束自身，而不是回退到上一页面\r\n\r\n5.需要在AndroidManifest.xml文件中添加权限，否则会出现Web page not available错误。\r\n\r\n<uses-permission android:name=\"android.permission.INTERNET\" />\r\n\r\n缺点：如果是载入的是普通网页，没有什么问题，但如果是html5，封装后，在android2.3以上才能正常访问，android2.2及以下，SDK中的WebView还没完全支持HTML5\r\n\r\n下面是具体例子：\r\n\r\nMainActivity.java\r\n\r\npackage com.android.webview.activity;\r\n\r\nimport android.app.Activity;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport android.view.KeyEvent;\r\n\r\nimport android.webkit.WebView;\r\n\r\npublic class MainActivity extends Activity {\r\n\r\nprivate WebView webview;\r\n\r\n@Override\r\n\r\npublic void onCreate(Bundle savedInstanceState) {\r\n\r\nsuper.onCreate(savedInstanceState);\r\n\r\n//实例化WebView对象\r\n\r\nwebview = new WebView(this);\r\n\r\n//设置WebView属性，能够执行Javascript脚本\r\n\r\nwebview.getSettings().setJavaScriptEnabled(true);\r\n\r\n//加载需要显示的网页\r\n\r\nwebview.loadUrl(\"http://www.***.cn/\");\r\n\r\n//设置Web视图\r\n\r\nsetContentView(webview);\r\n\r\n}\r\n\r\n@Override\r\n\r\n//设置回退\r\n\r\n//覆盖Activity类的onKeyDown(int keyCoder,KeyEvent event)方法\r\n\r\npublic boolean onKeyDown(int keyCode, KeyEvent event) {\r\n\r\nif ((keyCode == KeyEvent.KEYCODE_BACK) && webview.canGoBack()) {\r\n\r\nwebview.goBack(); //goBack()表示返回WebView的上一页面\r\n\r\nreturn true;\r\n\r\n}\r\n\r\nreturn false;\r\n\r\n}\r\n\r\n在AndroidManifest.xml文件中添加权限\r\n\r\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n\r\n<manifest xmlns:android=http://schemas.android.com/apk/res/android\r\n\r\npackage=\"com.android.webview.activity\"\r\n\r\nandroid:versionCode=\"1\"\r\n\r\nandroid:versionName=\"1.0\">\r\n\r\n<uses-sdk android:minSdkVersion=\"10\" />\r\n\r\n<application android:icon=“@drawable/icon” android:label=\"@string/app_name\">\r\n\r\n<activity android:name=\".MainActivity\"\r\n\r\nandroid:label=\"@string/app_name\">\r\n\r\n<intent-filter>\r\n\r\n<action android:name=\"android.intent.action.MAIN\"/>\r\n\r\n<category android:name=\"android.intent.category.LAUNCHER\" />\r\n\r\n</intent-filter>\r\n\r\n</activity>\r\n\r\n</application>\r\n\r\n<uses-permission android:name=\"android.permission.INTERNET\"/>\r\n\r\n</manifest>\r\n\r\n\r\n二、使用PhoneGap\r\n\r\nPhoneGap是一个用基于HTML，CSS和JavaScript的，创建移动跨平台移动应用程序的快速开发平台。它使开发者能够利用iPhone，Android，Palm，Symbian，WP7，Bada和Blackberry智能手机的核心功能——包括地理定位，加速器，联系人，声音和振动等，此外PhoneGap拥有丰富的插件，可以以此扩展无限的功能。PhoneGap是免费的，但是它需要特定平台提供的附加软件，例如iPhone的iPhone SDK，Android的Android SDK等，\r\n\r\n详细方法请见：http://phonegap.com/start#android\r\n\r\n优点：在Eclipse中加入SDK，编程自由，完美适应不同设备屏幕大小，适合高手使用。\r\n\r\n缺点：没有使用布局，直接加载网页，不能添加广告。\r\n\r\n三、使用Rexsee在线生成（http://www.rexsee.com）\r\n\r\nRexsee是开源的Android开发平台，支持开发者以标准化Web开发模式，使用HTML5、CSS3、Javascript快速实现移动应用。会HTML就会Android。你要做的只是将做好的HTML5 应用上传到Rexsee服务器，很快，会编译成标准的APK安装文件。\r\n优点：一键生成，适学普通人使用\r\n\r\n缺点：直接封装，无法添加广告。\r\n\r\n四、appMobi Html5 XDK 在线生成（使用了PhoneGap插件http://www.appmobi.com/）\r\n\r\n一个Google chrome插件，安装后，建立新工程，然后将已开发的HTML5应用放至指定文件夹中，即可直接封装成APK文件，使用了PhoneGap SDK，还提供实时预览，这是其它方法无法做到的事情。\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}